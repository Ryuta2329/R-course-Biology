<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.3 R Markdown: Estructura y Ejecución. | R-Biologos.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="2.3 R Markdown: Estructura y Ejecución. | R-Biologos.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.3 R Markdown: Estructura y Ejecución. | R-Biologos.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="investigación-reproducible-r-markdown..html"/>
<link rel="next" href="notas-finales-sobre-la-investigacion-reproducible..html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="1" data-path="empezando-comandos-básicos..html"><a href="empezando-comandos-básicos..html"><i class="fa fa-check"></i><b>1</b> Empezando: Comandos Básicos.</a>
<ul>
<li class="chapter" data-level="1.1" data-path="el-entorno-de-trabajo..html"><a href="el-entorno-de-trabajo..html"><i class="fa fa-check"></i><b>1.1</b> El entorno de trabajo.</a></li>
<li class="chapter" data-level="1.2" data-path="usando-la-consola-operaciones-matemáticas-en-r..html"><a href="usando-la-consola-operaciones-matemáticas-en-r..html"><i class="fa fa-check"></i><b>1.2</b> Usando la consola: operaciones matemáticas en R.</a></li>
<li class="chapter" data-level="1.3" data-path="asignación-de-variables..html"><a href="asignación-de-variables..html"><i class="fa fa-check"></i><b>1.3</b> Asignación de variables.</a></li>
<li class="chapter" data-level="1.4" data-path="tipos-de-datos-y-su-manejo..html"><a href="tipos-de-datos-y-su-manejo..html"><i class="fa fa-check"></i><b>1.4</b> Tipos de datos y su manejo.</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="tipos-de-datos-y-su-manejo..html"><a href="tipos-de-datos-y-su-manejo..html#datos-numéricos."><i class="fa fa-check"></i><b>1.4.1</b> Datos numéricos.</a></li>
<li class="chapter" data-level="1.4.2" data-path="tipos-de-datos-y-su-manejo..html"><a href="tipos-de-datos-y-su-manejo..html#caracteres."><i class="fa fa-check"></i><b>1.4.2</b> Caracteres.</a></li>
<li class="chapter" data-level="1.4.3" data-path="tipos-de-datos-y-su-manejo..html"><a href="tipos-de-datos-y-su-manejo..html#valores-lógicos."><i class="fa fa-check"></i><b>1.4.3</b> Valores lógicos.</a></li>
<li class="chapter" data-level="1.4.4" data-path="tipos-de-datos-y-su-manejo..html"><a href="tipos-de-datos-y-su-manejo..html#fechas-y-tiempo."><i class="fa fa-check"></i><b>1.4.4</b> Fechas y tiempo.</a></li>
<li class="chapter" data-level="1.4.5" data-path="tipos-de-datos-y-su-manejo..html"><a href="tipos-de-datos-y-su-manejo..html#otros-valores-especiales."><i class="fa fa-check"></i><b>1.4.5</b> Otros valores especiales.</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="organizandote-scripts..html"><a href="organizandote-scripts..html"><i class="fa fa-check"></i><b>1.5</b> Organizandote: <em>Scripts</em>.</a></li>
<li class="chapter" data-level="1.6" data-path="necesitas-ayuda-r-te-ayuda.html"><a href="necesitas-ayuda-r-te-ayuda.html"><i class="fa fa-check"></i><b>1.6</b> Necesitas ayuda: R te ayuda!</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="comunicando-resultados-y-tomando-notas..html"><a href="comunicando-resultados-y-tomando-notas..html"><i class="fa fa-check"></i><b>2</b> Comunicando Resultados y Tomando notas.</a>
<ul>
<li class="chapter" data-level="2.1" data-path="instalando-paquetes-en-r..html"><a href="instalando-paquetes-en-r..html"><i class="fa fa-check"></i><b>2.1</b> Instalando paquetes en R.</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="instalando-paquetes-en-r..html"><a href="instalando-paquetes-en-r..html#representación-de-objetos-y-el-uso-de-comillas."><i class="fa fa-check"></i><b>2.1.1</b> Representación de objetos y el uso de comillas.</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="investigación-reproducible-r-markdown..html"><a href="investigación-reproducible-r-markdown..html"><i class="fa fa-check"></i><b>2.2</b> Investigación reproducible: R Markdown!.</a></li>
<li class="chapter" data-level="2.3" data-path="r-markdown-estructura-y-ejecución..html"><a href="r-markdown-estructura-y-ejecución..html"><i class="fa fa-check"></i><b>2.3</b> R Markdown: Estructura y Ejecución.</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-markdown-estructura-y-ejecución..html"><a href="r-markdown-estructura-y-ejecución..html#instalando-r-markdown."><i class="fa fa-check"></i><b>2.3.1</b> Instalando R Markdown.</a></li>
<li class="chapter" data-level="2.3.2" data-path="r-markdown-estructura-y-ejecución..html"><a href="r-markdown-estructura-y-ejecución..html#anatomía-de-un-documento-r-markdown."><i class="fa fa-check"></i><b>2.3.2</b> Anatomía de un documento <em>R Markdown</em>.</a></li>
<li class="chapter" data-level="2.3.3" data-path="r-markdown-estructura-y-ejecución..html"><a href="r-markdown-estructura-y-ejecución..html#imágenes-y-tablas."><i class="fa fa-check"></i><b>2.3.3</b> Imágenes y tablas.</a></li>
<li class="chapter" data-level="2.3.4" data-path="r-markdown-estructura-y-ejecución..html"><a href="r-markdown-estructura-y-ejecución..html#bibliografía-y-referencias."><i class="fa fa-check"></i><b>2.3.4</b> Bibliografía y referencias.</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="notas-finales-sobre-la-investigacion-reproducible..html"><a href="notas-finales-sobre-la-investigacion-reproducible..html"><i class="fa fa-check"></i><b>2.4</b> Notas finales sobre la investigacion reproducible.</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructuras-de-datos..html"><a href="estructuras-de-datos..html"><i class="fa fa-check"></i><b>3</b> Estructuras de Datos.</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>3.1</b> Vectores</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="vectores.html"><a href="vectores.html#operaciones-sobre-vectores."><i class="fa fa-check"></i><b>3.1.1</b> Operaciones sobre vectores.</a></li>
<li class="chapter" data-level="3.1.2" data-path="vectores.html"><a href="vectores.html#vectorización-y-funciones."><i class="fa fa-check"></i><b>3.1.2</b> Vectorización y funciones.</a></li>
<li class="chapter" data-level="3.1.3" data-path="vectores.html"><a href="vectores.html#indexado-usando-expresiones-lógicas."><i class="fa fa-check"></i><b>3.1.3</b> Indexado usando expresiones lógicas.</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="marices-y-arreglos..html"><a href="marices-y-arreglos..html"><i class="fa fa-check"></i><b>3.2</b> Marices y arreglos.</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="marices-y-arreglos..html"><a href="marices-y-arreglos..html#matrices."><i class="fa fa-check"></i><b>3.2.1</b> Matrices.</a></li>
<li class="chapter" data-level="3.2.2" data-path="marices-y-arreglos..html"><a href="marices-y-arreglos..html#arreglos."><i class="fa fa-check"></i><b>3.2.2</b> Arreglos.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="factores.html"><a href="factores.html"><i class="fa fa-check"></i><b>3.3</b> Factores</a></li>
<li class="chapter" data-level="3.4" data-path="tablas-de-datos-data-frames..html"><a href="tablas-de-datos-data-frames..html"><i class="fa fa-check"></i><b>3.4</b> Tablas de Datos (<em>data frames</em>).</a></li>
<li class="chapter" data-level="3.5" data-path="listas..html"><a href="listas..html"><i class="fa fa-check"></i><b>3.5</b> Listas.</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-markdown-estructura-y-ejecución." class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> R Markdown: Estructura y Ejecución.<a href="r-markdown-estructura-y-ejecución..html#r-markdown-estructura-y-ejecución." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En esta sección no pretendo mostrarte todas las funcionalidades de <em>R Markdown</em> (para eso puedes consultar las referencias antes citadas que tienen más de lo que quisieras saber al respecto, y siempre puedes consultar foros y discusiones en la web para buscar ayuda), sino más bien dar una introducción breve a la tecnología de forma que puedas comenzar a realizar tus propios documentos sencillos en nada de tiempo.</p>
<div id="instalando-r-markdown." class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Instalando R Markdown.<a href="r-markdown-estructura-y-ejecución..html#instalando-r-markdown." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Instalar <em>R Markdown</em> es tan sencillo como instalar el paquete <code>rmarkdown</code> en R.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-markdown-estructura-y-ejecución..html#cb24-1" tabindex="-1"></a><span class="co"># Instalando rmarkdown desde el repositorio.</span></span>
<span id="cb24-2"><a href="r-markdown-estructura-y-ejecución..html#cb24-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;rmarkdown&quot;</span>)</span></code></pre></div>
<p>Para poder generar documentos de <em>Latex</em> vas a a necesitar instalar <em>Latex</em><a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> (Duh!) en tu computadora. Otra forma es instalando el paquete <code>tinytex</code> en R y luego usar <code>tinytex::install_tinytex()</code><a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> para instalar una versión ligera de <em>Latex</em> en tu computadora (la ventaja es que la instalación y uso de <em>TinyTex</em> no requiere de privilegios de administrador). Sea cual sea el tipo de documento que vayas a generar, necesitaras instalado <em>Pandoc</em> para poder generar los documentos. Puedes verificar si ya lo tienes instalado desde R usando:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="r-markdown-estructura-y-ejecución..html#cb25-1" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">find_pandoc</span>()</span></code></pre></div>
<p>Si no se encuentra instalado, puedes encontrar instrucciones de como instalarlo en <a href="https://pandoc.org/installing.html">https://pandoc.org/installing.html</a>.</p>
</div>
<div id="anatomía-de-un-documento-r-markdown." class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Anatomía de un documento <em>R Markdown</em>.<a href="r-markdown-estructura-y-ejecución..html#anatomía-de-un-documento-r-markdown." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Para crear documentos de <em>R Markdown</em> solo tienes que especificar las tres partes esenciales que conforman el documento: el encabezado YAML, el texto con formato y los <em>chunks</em> de código. Un ejemplo de un documento de <em>R Markdown</em> muy sencillo y básico es el siguiente:</p>
<pre><code>---
 title: Mi primer Documento
 author: Marcelo J. Molinatti S.
 date: 2021-01-20
 output: html_document
---

# Introducción.

Este es mi primer documento de *R Markdown* que muestra algunas de sus 
funcionalidades básica. Este documento comenzó con una sección llamada 
**Introducción** y continua con una subsección que muestra el uso de 
*chunks* de código.

## Usando *chunks* de código.

Puedes utilizar *chunks* de código ya sea dentro de los párrafos que 
escribes o usando bloques que realicen alguna función. Por ejemplo, el 
siguiente bloque consiste de una simulación simple de una variable aleatoria 
continua descrita por una distribución normal (que bien podría ser la 
distribución de altura de una población) con media $\mu = 14$ y desviación 
estándar $\sigma = 1.2$:

```{r Simulacion}
# Simula 100 datos aleatorios de una distribución normal.
sim_data &lt;- rnorm(100, mean = 14, sd = 1.2)

# Un pequeño histograma...
hist(sim_data)
```

Luego puedes hacer uso de *chunks* en línea (*inline chunks*) usando `. 
Por ejemplo, la media de los 100 datos simulados en el bloque anterior 
es `r mean(sim_data)`.

Puedes guardar este ejemplo en un archivo con extensión *.rmd* (p. ej. 
lo puedes llamar *mi_ejemplo.rmd*) y luego crear el documento usando la 
función `render` del paquete `rmarkdown` como:

rmarkdown::render(&quot;mi_ejemplo.rmd&quot;, &quot;html_document&quot;)</code></pre>
<p><strong>Encabezado YAML</strong></p>
<p>Este encabezado contiene lo que se conoce como metadata: información sobre el documento y otras instrucciones que afectan el proceso de generación del documento (también llamado <em>rendering</em>). Este se coloca al inicio del documento:</p>
<pre><code>---
 title: &quot;Yet another course on R!&quot;
 author: &quot;Marcelo Molinatti&quot;
 date: 2021-01-19
 output: html_document
---</code></pre>
<p>El encabezado comienza y termina con tres guiones (—) que indican el inicio de metadatos YAML (YAML significa <em>Yet Another Markup Language</em>), seguido de tres campos que especifican el titulo del documento, el autor, la fecha y el formato de salida. Es importante que notes que cada campo comienza luego de introducido un espacio en blanco. Los formatos de salida pueden ser distintos: por ejemplo, <code>html_docuemnt</code> especifica que la salida será un archivo HTML, <code>pdf_document</code> especifica que la salida será un PDF, y <code>word_document</code> especifica que será un archivo de Word (existen otros formatos posibles. Consulta <span class="citation">@Yihui2018</span>).</p>
<p>También puedes especificar argumentos para la salida de forma que puedas modificar ciertos aspectos del documento generado. Por ejemplo:</p>
<pre><code>output:
 html_document:
  toc: true
  toc_depth: 2</code></pre>
<p>crea un documento HTML con secciones y subsecciones ennumeradas (<code>toc</code> especifica que se deben numerar y <code>toc_depth</code> especifica cuantos niveles numerar, en este caso, dos niveles). Date cuenta que si pasas argumentos debes indicarlo colocando dos puntos (:) y lo argumentos, si son varios, debes de colocarlos uno después del otro usando saltos de linea. También nota que cada nivel de argumento se especifica con un espacio en blanco (<code>html_document</code> es argumento de <code>output</code> y por eso tiene un espacio en blanco antes. De igual forma, ambos <code>toc</code> y <code>toc_depth</code> son argumentos de <code>html_document</code> y por ello se coloca otro espacio en blanco antes de estos).</p>
<p><strong>Texto con formato</strong></p>
<p>En esta parte va el contenido de tu documento. Tiene funcionalidades especiales que permiten agregarle formato, de forma que la presentación sea la que tu quieres. Por ejemplo, en el ejemplo, usamos encabezados que permiten definir secciones y subsecciones utilizando los numerales <code>#</code>. Un numeral indica un nivel o una sección del documento, y dos numerales (<code>##</code>) indican una subsección o segundo nivel (este es un nivel que se anida en el nivel externo. Por eso lo llamamos subsección también). Usar tres numerales implica una sub-subsección.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Formated-Text"></span>
<img src="figs/markdown_text.png" alt="Opciones de formato de texto (izquierda) con su resultado luego de *renderizado* (derecha). Tomado de &lt;http://uc-r.github.io/r_markdown&gt;" width="70%" />
<p class="caption">
Figure 2.1: Opciones de formato de texto (izquierda) con su resultado luego de <em>renderizado</em> (derecha). Tomado de <a href="http://uc-r.github.io/r_markdown" class="uri">http://uc-r.github.io/r_markdown</a>
</p>
</div>
<p>Además, puedes enfatizar palabras (o <em>îtalizar</em>), encerrando la palabra o frase entre <code>*</code> (o <code>_</code>). Si utilizas dos <code>*</code> (o <code>_</code>) entonces la palabra o palabras son resaltadas en negritas (llamada <em>boldface</em>). Puedes encerrar texto que se entiende como código entre <code>`</code>. En el ejemplo anterior, las palabras <code>render</code> y <code>rmarkdown</code> quiero que se entiendan como código y por eso les dí ese formato.</p>
<p>También es posible realizar lista ordenadas (enumeradas) o no. En el caso de listas no numeradas, se pueden construir usando la notación de <code>*</code>. Para las listas enumeradas, se utilizan números para odenar los <em>items</em>. Pro ejemplo:</p>
<pre><code>Esta es una lista no numerada:

* Este es el primer *item* de la lista.
* Este es el segundo *item*, el cual tine eotra lista no numerada anidada.
    * Este es el primer item de la sublista, anidada en el segundo *item*.
    * Este es el segundo *item* de la sublista.
* Otro *item* de la lista más externa.

Este es un ejemplo de una lista numerada u ordenada:

1. El primer *item* enumerado.
1. El segundo *item* numerado. Los número se incrementan automáticamente de forma que no
te tienes que preocupar por la numeración de cada uno de los *items*.</code></pre>
<p>Las listas pueden anidarse como se ve en el ejemplo anterior, simplemente utilizando una identación adecuada. Además, se pueden mezclar los tipos de lista, de forma que puedes crear listas numeradas con sublistas no numeradas, y viceversa.</p>
<p>Muchas otras opciones están disponibles y puedes consultarlas en <span class="citation">@Yihui2018</span>. En la figura <a href="r-markdown-estructura-y-ejecución..html#fig:Formated-Text">2.1</a> se muestran algunas opciones junto con la salida luego de <em>renderizado</em> el documento.</p>
<p><strong><em>Chunks</em> de código</strong></p>
<p>La última característica de un archivo <em>R markdown</em> y la más importante a la hora de generar reportes es la capacidad de añadir fragmentos de código R que se ejecuta. Estos fragmentos pueden resultar en salidas (o <em>outputs</em>, como imágenes, tablas, datos, etc.) que se imprimen y se muestran en el documento generado por la función <code>render</code> al compilar el documento.</p>
<p>Para colocar un fragmento de código, colocas <code>{r }</code> encerrado entre tres <code>`</code> como se muestra en el fragmento que usamos de ejemplo. Luego, colocas el código de R seguido de la última llave (lo cual puede ser el cargado de los datos y paquetes, la manipulación de los datos, análisis estadísticos, entre otras muchas cosas más). Puedes colocar más de un fragmento de código en un documento y cada fragmento nombrarlo usando una etiqueta: para ello, solo coloca un nombre apropiado seguido de la <code>r</code>, dentro de las llaves (p. ej. <code>{r Simulacion}</code> denota un fragmento de código llamado <code>Simulacion</code>. Date cuenta que, como hemos aprendido hasta ahora, la etiqueta debe ser una descripción significativa del fragmento de código). También, los fragmentos de código reciben argumentos: luego de la etiqueta o nombre, se coloca una coma seguido de los argumentos. Algunos argumentos importantes son:</p>
<ul>
<li><code>echo</code> es un valor lógico que si es <code>TRUE</code>, permite que se imprima el fragmento de código. De lo contrario, el fragmento de código es evaluado (y cualquier resultado aparecera en el reporte final) pero el código no se mostrará en el documento.</li>
<li><code>eval</code> es un valor lógico que si es <code>TRUE</code>, el fragmento de código se ejecuta, de lo contrario, el fragmento de código no se ejecuta (y por lo tanto no hay resultados generados por ese fragmento).</li>
<li><code>include</code> es un valor lógico que de ser <code>FALSE</code>, permite que el código se ejecute, sin incluir el código y los resultados en el documento final.</li>
<li><code>message</code> y <code>warning</code> son también valores lógicos que permiten decidir si se quiere que aparezcan mensajes y advertencias en el documento final.</li>
<li><code>results = 'hide'</code> y <code>fig.show = 'hide'</code> es una forma conveniente de hacer que que no se muestren las salidas y gráficos, respectivamente.</li>
</ul>
<p>Otra funcionalidad de los fragmentos de código es que puedes usar <em>inline chunks</em> (o fragmentos en línea) dentro del texto o contenido. Para ello solo usas <code>r</code> encerrada entre <code>`</code> (como en <code>`r mean(sim_data)`</code> en el ejemplo). Estos fragmentos sirven para colocar información almacenada en objetos de R, en el contenido del documento (no es tan adecuado para escribir grandes fragmentos de código. En esos casos, es mejor usar un <em>chunk</em> completo).</p>
</div>
<div id="imágenes-y-tablas." class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Imágenes y tablas.<a href="r-markdown-estructura-y-ejecución..html#imágenes-y-tablas." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Otra parte importante es la capacidad de añadir imágenes y tablas a documentos generados por <em>R Markdown</em>. Para añadir imágenes puedes utilizar el comando:</p>
<pre><code>    ![Leyenda opcional para la figura](ruta/a/img.png)</code></pre>
<p>Una mejor manera de añadir imágenes a un documento es por medio de la función <code>knitr::include_graphics</code><a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> incluida en el paquete <code>knitr</code>.</p>
<pre><code>```{r my-figure, echo = FALSE, out.width=&#39;70%&#39;, fig.align=&#39;center&#39;}
knitr::include_graphics(&quot;ruta/a/img.png&quot;)
```</code></pre>
<p>La utilidad de esta forma de incluir imágenes es que facilita la personalización por medio de las opciones en los <em>chunks</em> de código. Se pueden utilizar opciones como <code>width</code>, <code>height</code>, <code>fig.align</code>, <code>fig.cap</code>, y/o <code>out.width</code> para especificar el tamaño de la imagen, la alineación, la leyenda de la figura o el tamaño relativo a la amplitud del texto. El poder incluir imágenes a partir de fragmentos de código es lo que permite añadir gráficos generados en R a un documento. En el ejemplo que usamos de base, luego de <em>renderizado</em> el documento vas a a ver un histograma de los datos simulados. Este histograma es generado con la función <code>hist</code> en R, y por lo tanto se imprime en el documento final y, al igual que antes, se puede personalizar su presentación con las opciones del <em>chunk</em> de código.</p>
<p>En cuanto a las tablas, la forma más sencilla de generar tablas de datos con un formato personalizado que sea visualmente agradable es utilizando funcione de formato de tablas como <code>knitr::kable()</code>. Por ejemplo, ya dijimos que un conjunto de datos que sirve mucho para aprender a realizar análisis estadísticos en R es <code>mtcars</code>. Un ejemplo de uso de la función de formato de tablas es:</p>
<pre><code>```{r my-table}
    knitr::kable(
        mtcars[1:5, ],
        caption = &quot;A knitr kable.&quot;
    )
```</code></pre>
<p>Date un tiempo para leer los argumentos de la función <code>kable</code> de forma que puedas personalizar aun más las tablas que se generan en tus documentos (¿Recuerdas como se lee la documentación de una función?). Otro paquete importante que permite añadir otras características a las tablas es el paquete <code>kableExtra</code> el cual permite estilizar y crear tablas más complejas si así se requiere. Otros paquetes que permiten imprimir tablas más personalizadas son paquetes como <code>xtable</code>, <code>stargazer</code>, <code>pander</code>, <code>tables</code>, y <code>ascii</code>.</p>
</div>
<div id="bibliografía-y-referencias." class="section level3 hasAnchor" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> Bibliografía y referencias.<a href="r-markdown-estructura-y-ejecución..html#bibliografía-y-referencias." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Es posible generar de forma automática citas y bibliografías en el documento final. Lo único que se tiene que hacer es especificar un archivo de bibliografía usando el campo <code>bibliography</code> en el encabezado YAML. El campo debe especificar la dirección o ruta de acceso del archivo que contiene la bibliografía, y la bibliografía puede estar en formato BibLaTeX, BibTeX, <em>endnote</em> y <em>mnedline</em>. Una forma de automatizar el proceso de creación de una bibliografía es utilizando un manejador de biblioteca (como por ejemplo <a href="www.mendeley.com">Mendeley Desktop</a>) de forma que cree el archivo bibliográfico y tu solo tienes que hacer referencia a la dirección de la misma para incluirla en el documento.</p>
<p>Para citar algún autor en tu archivo <em>.Rmd</em> se utiliza una clave compuesta por el símbolo <code>@</code> seguido de un identificador de alguna referencia en el archivo bibliográfico (por ejemplo, <code>@marcelo2020</code>). Si colocas la cita encerrada entre corchetes, entonces la cita es colocada entre paréntesis. Si quieres colocar más de una cita, cada una debe ir separada de la otra por un <code>;</code> (como en <code>[@marcelo2020; @rodriguez2010]</code>). También puedes añadir comentarios arbitrarios (como cuando se busca hacer referencia a una pagina específica dentro de un trabajo, como en <code>[véase @marcelo2020, pp. 33-35]</code>). Si quieres colocar una cita en el texto (como en <em>… Según Molinatti (2020), …</em>) entonces se omiten los corchetes, y si quieres que solo se imprima la fecha de la publicación a la que haces referencia, pero no el autor, se coloca un <code>-</code> antes del inicio de la cita (como en <code>[-@marcelo2020]</code>).</p>
<p>Al <em>renderizar</em> el documento, se construye la bibliografía y se añade al final del documento de forma automática, la cual contendrá cada una de las citas referenciadas dentro del documento. Sin embargo, no se genera una encabezado de forma automática, por lo que es costumbre añadir en un documento un último encabezado o sección para la bibliografía:</p>
<pre><code># Bibliografía.</code></pre>
<p>También puedes cambiar el estilo de las referencias (p. ej., si quieres usar las normas APA, puedes usar un documento de estilo que genere las referencias siguiendo estas normas) al hacer uso de un archivo <em>CSL</em> (<em>citation style language</em>) en el campo <code>csl</code>del encabezado YAML.</p>
<pre><code>bibliography: bibliografia.bib
csl: apa.csl</code></pre>
<p>El campo <code>csl</code> debe contener la dirección al archivo con extensión <em>.csl</em> (puedes encontrar estilos bibliográficos en <a href="http://github.com/citation-style-language/styles" class="uri">http://github.com/citation-style-language/styles</a>). en el ejemplo anterior, se asume que ambos, bibliografía y estilo (<code>bibliografia.bib</code> y <code>apa.csl</code>, respectivamente) están en el mismo directorio que tu archivo <em>.Rmd</em>.</p>
<p>Una vez que se tiene un archivo <em>.Rmd</em> puedes proceder a realizar el <em>renderizado</em> para obtener tu documento. Lo se hace es que una vez finalizado, utilizas la función <code>rmarkdown::render</code> (en el archivo que nos sirve de ejemplo, se utiliza en la consola como <code>rmarkdown::render("mi_ejemplo.rmd", "html_document")</code>, de forma que se obtiene el resultado en forma de un archivo HTML), la cual se encarga de pasar el archivo a <code>knitr</code>, el cual se encarga de ejecutar todos los fragmentos de código (estos se ejecutan primero antes del compilado del documento, lo cual se puede aprovechar para colocar fragmentos de código incluso en el encabezado YAML) y crea un documento <em>markdown</em> (extensión <em>.md</em>). Luego Pandoc se encarga de procesar este archivo para generar el documento deseado, ya sea en HTML, PDF, o un documento de Word, presentaciones, entre otros.</p>
<p><img src="figs/RMarkdownFlow.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Listo. Ya puedes comenzar a llevar a cabo reportes, informes, presentaciones y otros documentos que te interesen. En la bibliografía puedes encontrar mucha más información, de forma que seas capaz de explotar todas las funcionalidades que ofrece <em>RMarkdown</em>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>Puedes encontrar una en <a href="miktex.org">miktex.org</a>. En el caso de Linux, puedes instalarlo desde el repositorio o usar la misma versión de MikTex.<a href="r-markdown-estructura-y-ejecución..html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>De aquí en adelante la notación de los pares de dos puntos aparecerá seguido. El operador <code>::</code> es conocido como operador de resolución de ámbito. Cuando se utiliza como <code>&lt;paquete&gt;::&lt;funcion&gt;()</code>, lo que se hace es especificar que la función llamada <code>&lt;funcion&gt;</code> pertenece al paquete llamado <code>&lt;paquete&gt;</code>. Por ejemplo, <code>tinytex::install_tinytex()</code> indica que la función <code>install_tinytex</code> es una función incluida en el paquete <code>tinytex</code>. Sirve para evitar conflictos o ambigüedades a la hora de llamar funciones. Si hay dos funciones llamadas de la misma forma pero en paquetes diferentes, puedes usar el operador <code>::</code> y el nombre del paquete para especificar cual de las dos funciones es la que vas a usar.<a href="r-markdown-estructura-y-ejecución..html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>Recuerda que <code>::</code> es el operador de resolución de ámbito. Por lo tanto, <code>include_graphics</code> es una función incluida en el paquete <code>knitr</code>, y por lo tanto, este debe estar instalado.<a href="r-markdown-estructura-y-ejecución..html#fnref17" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="investigación-reproducible-r-markdown..html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="notas-finales-sobre-la-investigacion-reproducible..html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
